# Реализация

Придерживаемся созданного ранее, при необходимости изменяя логику работы и добавляя новое.

## Основные отличия и ответственности модулей:
* Клиент и сервер теперь явно разделены: их можно даже физически отделить друг от друга.


### Inbetween
* Связь происходит через пакет ``inbetween``. В нём создаётся и обрабатывается соединение.

* ``Input -> Request -> Data -> Response -> Output``
* ``Request`` и ``Response`` определяются здесь для обоих сторон

### Server
* Хранит и распоряжается данными (теперь объект хранилища не параметризован: оверинжиниринг)
* Обрабатывает ``Request`` и валидирует хранящиеся в нём данные
* Исполняет команду и возвращает ``Response`` с определённым промптом

![](schemas/server_schema.png)

### Client

* Реализует ввод со стороны клиента и отправку соответствующего вводу ``Request``
* Получает и расшифровывает ``Response`` так, как хотелось бы клиентской части

![](schemas/client_schema.png)
